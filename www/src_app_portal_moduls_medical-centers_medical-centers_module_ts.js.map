{"version":3,"file":"src_app_portal_moduls_medical-centers_medical-centers_module_ts.js","mappings":"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","sources":["./src/app/portal/moduls/medical-centers/components/clinic-details/clinic-details.page.ts","./src/app/portal/moduls/medical-centers/components/details-pending-coordinations/details-pending-coordinations.page.ts","./src/app/portal/moduls/medical-centers/components/main-coordinations/main-coordinations.page.ts","./src/app/portal/moduls/medical-centers/components/new-coordination/new-coordination.page.ts","./src/app/portal/moduls/medical-centers/components/pending-coordinations/pending-coordinations.page.ts","./src/app/portal/moduls/medical-centers/configs/button-configurations.ts","./src/app/portal/moduls/medical-centers/medical-centers-routing.module.ts","./src/app/portal/moduls/medical-centers/medical-centers.module.ts","./src/app/portal/moduls/medical-centers/medical-centers.page.ts","./src/app/portal/moduls/medical-centers/pipes/array-sort.pipe.ts","./src/app/portal/moduls/medical-centers/services/details-pending-coordinations.service.ts","./src/app/portal/moduls/medical-centers/services/medical-centers-general.service.ts","./src/app/portal/moduls/medical-centers/services/new-coordinations.service.ts","./src/app/portal/moduls/medical-centers/services/pending-coordinations.service.ts"],"sourcesContent":["import { AgmMap, GoogleMapsAPIWrapper, MapsAPILoader } from '@agm/core';\nimport { Component, Directive, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BsModalRef, BsModalService, ModalOptions } from 'ngx-bootstrap/modal';\nimport { InformativeModalComponent } from 'src/app/shared/components/informative-modal/informative-modal.component';\nimport { ButtonType } from 'src/app/shared/enums/enumerations';\nimport { ButtonConfiguration } from 'src/app/shared/models/button-configuration';\nimport { UrlDataService } from 'src/app/shared/services/url-data-service';\nimport { environment } from 'src/environments/environment';\nimport { Clinic } from '../../models/clinics';\nimport { MedicalCentersGeneralService } from '../../services/medical-centers-general.service';\n\n@Directive({\n  selector: 'route-directive'\n})\nexport class RouteDirective {\n\n  @Input() origin: any = {};\n  @Input() destination: any = {};\n  @Input() travelMode: any = '';\n  @Output() sendDistance = new EventEmitter();\n  @Output() sendErrorMessage = new EventEmitter();\n\n  imgRoute: string;\n  results: any;\n  distance: string;\n  duration: string;\n  private arrive = { distance: \"\", duration: \"\" };\n  directionsDisplay = new google.maps.DirectionsRenderer({ suppressMarkers: true });\n  environment: any;\n\n  constructor(\n    private googlemapsAPI: GoogleMapsAPIWrapper,\n    private router: Router,\n  ) {\n    this.environment = environment;\n    this.imgRoute = environment.imagesRoute;\n   }\n\n  ngOnChanges() {\n    if (this.travelMode != '') {\n      this.howArrive();\n      this.calculateDistance();\n    }\n  }\n\n  private howArrive() {\n    const that = this;\n    this.googlemapsAPI.getNativeMap().then((map) => {\n      var directionsService = new google.maps.DirectionsService();\n      that.directionsDisplay.setMap(map);\n      directionsService.route({\n        origin: { lat: this.origin.Latitud, lng: this.origin.Longitud },\n        destination: { lat: this.destination.Latitude, lng: this.destination.Longitude },\n        travelMode: this.travelMode\n      }, function (response, status) {\n        if (status === 'OK') {\n          that.directionsDisplay.setDirections(response);\n          that.sendErrorMessage.emit(false);\n        } else {\n          that.sendErrorMessage.emit(true);\n        }\n      });\n    }, err => {\n      // TODO mostrar el error en modal\n      console.log('error en como llegar: ', err);\n    });\n  }\n\n  private calculateDistance() {\n    const that = this;\n    this.googlemapsAPI.getNativeMap().then((map) => {\n      var directionsService = new google.maps.DistanceMatrixService();\n      directionsService.getDistanceMatrix({\n        origins: [{ lat: this.origin.Latitud, lng: this.origin.Longitud }],\n        destinations: [{ lat: this.destination.Latitude, lng: this.destination.Longitude }],\n        travelMode: this.travelMode\n      }, function (response, status) {\n        if (status === 'OK') {\n          that.results = response.rows[0].elements;\n          if (that.results[0].status === \"OK\") {\n            that.distance = that.results[0].distance.text;\n            that.duration = that.results[0].duration.text;\n            that.arrive = { distance: that.results[0].distance.text, duration: that.results[0].duration.text };\n            that.sendDistance.emit(that.arrive);\n          }\n        } else {\n          // TODO mostrar el error en modal\n          console.log('Error al mostrar la distancia - status: ', status);\n        }\n      });\n    });\n  }\n}\n\n@Component({\n  selector: 'app-clinic-details',\n  templateUrl: './clinic-details.page.html',\n  styleUrls: ['./clinic-details.page.scss'],\n})\nexport class ClinicDetailsPage implements OnInit {\n\n  @ViewChild(RouteDirective) routeDirective: RouteDirective;\n  @ViewChild(AgmMap) mapElement: AgmMap;\n\n  isCollapsed = false;\n  clinics: any = {};\n  latlngBounds: any;\n  currentLocation = new Clinic();\n  code: number;\n  travelMode: string = '';\n  private sub: any;\n  imgRoute: string\n  environment: any;\n  zoom: number = -10;\n  distance: string = \"\";\n  translate: TranslateService;\n  country: string;\n  patientDirectionLatitude: any;\n  patientDirectionLongitude: any;\n  validationCoordsPatient: boolean;\n  configurationButtonCall: ButtonConfiguration;\n  configurationButtonCoordinate: ButtonConfiguration;\n  bsModalRef: BsModalRef;\n\n  constructor(\n    private medicalCentersService: MedicalCentersGeneralService, \n    private route: ActivatedRoute,\n    translate: TranslateService,\n    private modalService: BsModalService,\n    private router: Router, \n    private urlDataService: UrlDataService,\n    private mapsAPILoader: MapsAPILoader,\n    private googlemapsAPI: GoogleMapsAPIWrapper\n  ) {\n    this.urlDataService.setHeaderNavPortal(['Centros Médicos', 'Detalles']);\n    this.translate = translate;\n    translate.setDefaultLang(environment.country);\n    this.environment = environment;\n    this.imgRoute = environment.imagesRoute;\n    this.country = environment.country;\n    this.configurationButtonCoordinate = this.generateButton('Coordinar');\n    this.configurationButtonCall = this.generateButton('Llamar');\n   }\n\n  generateButton(text: string) {\n    let configurationButton = new ButtonConfiguration();\n    configurationButton.buttonType = ButtonType.Primary;\n    configurationButton.text = text;\n    configurationButton.width = \"140px\";\n    return configurationButton;\n  }\n\n  generateInformativeModal(subTitle: string, description: string, isError: boolean) {\n    const initialState: ModalOptions = {\n      initialState: {\n        iconHeader: isError ? 'alert-circle.svg' : 'alert-check.svg',\n        subTitle: subTitle,\n        description: description,\n        onlyButtonConfirm: true,\n        textButton: 'Aceptar',\n        textButton1: '',\n        textButton2: '',\n        visibleButtonClose: false,\n      },\n      class: 'modal-dialog-centered modal-rounded',\n      id: 'modal-error-no-services',\n      backdrop: true,\n      ignoreBackdropClick: true\n    };\n    return this.modalService.show(InformativeModalComponent, initialState);\n  }\n\n  async ngOnInit() {\n    this.patientDirectionLatitude = Number(this.route.snapshot.paramMap.get('patientDirectionLatitude'));\n    this.patientDirectionLongitude = Number(this.route.snapshot.paramMap.get('patientDirectionLongitude'));\n    // Validando flujo que toma el usuario, si hay coordenadas, mostrando este nuevo flujo\n    if (this.patientDirectionLongitude == '0' || this.patientDirectionLongitude == null || this.patientDirectionLongitude.length < 1 ||\n      this.patientDirectionLatitude == '0' || this.patientDirectionLatitude == null || this.patientDirectionLatitude.length < 1) {\n      this.validationCoordsPatient = true;\n    } else {\n      this.validationCoordsPatient = false;\n    }\n    try {\n      this.sub = this.route.params.subscribe(params => {\n        this.code = +params['code'];\n      });\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(position => {\n          this.getLocation(position.coords);\n        });\n      }\n      this.getClinics();\n    } catch (error) {\n      // TODO mostrar el error en modal\n      console.log(error);\n    }\n  }\n\n  goBack(): void {\n    window.history.back();\n  }\n\n  getClinics() {\n    return this.medicalCentersService\n      .getClinicsNearby('Coordinations/MedicalCenters').subscribe((result: any) => {\n        this.clinics = result['MedicalCenterSchedules'];\n        this.clinics.forEach((m: any) => {\n          m.Latitude = Number(m.Latitude);\n          m.Longitude = Number(m.Longitude);\n        });\n        //SetBounds\n        let clinicInfo: any;\n        this.clinics.forEach((m: any) => {\n          if (Number(m.ClinicCode) === this.code) {\n            clinicInfo = m;\n          }\n        });\n        this.mapsAPILoader.load().then(() => {\n          this.latlngBounds = new window['google'].maps.LatLngBounds();\n          this.latlngBounds.extend(new window['google'].maps.LatLng(this.clinics.Latitude, this.clinics.Longitude))\n          this.zoom = 1;\n          this.mapElement.zoom = 5;\n        });\n        this.clinics = clinicInfo;\n      },\n        error => this.ErrorRegister(error));\n  }\n\n  getLocation(position: any) {\n    this.currentLocation.Latitud = position.latitude;\n    this.currentLocation.Longitud = position.longitude;\n  }\n\n  setTravelMode(mode: string): void {\n    this.travelMode = mode;\n  }\n\n  showModalErrorHowArrive(event: any): void {\n    // TODO Autorizar Distance Matrix en OP de google\n    this.bsModalRef = this.generateInformativeModal('Error al mostrar la ruta', 'El modo de viaje, en tu ubicación no se encuentra disponible.', true);\n  }\n\n  showDistance(event: any): void {\n    this.distance = event.distance;\n  }\n\n  call() {\n    this.bsModalRef = this.generateInformativeModal('Línea de atención', 'Comunícate a la línea de atención del centro de coordinación de centros médicos 24873333', true);\n  }\n\n  coordinate() {\n    this.router.navigate(['/portal/admin/clinics/coordinations'], { replaceUrl: true })\n  }\n\n  private ErrorRegister(error: any) {\n    this.bsModalRef = this.generateInformativeModal('Inconvenientes con el portal', 'No se pudo procesar la solicitud, por favor inténtelo más tarde.', true);\n  }\n\n}\n","import { AgmMap } from '@agm/core';\nimport { Component, EventEmitter, Input, OnInit, Output, ViewChild } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BsModalRef, BsModalService, ModalOptions } from 'ngx-bootstrap/modal';\nimport { InformativeModalComponent } from 'src/app/shared/components/informative-modal/informative-modal.component';\nimport { environment } from 'src/environments/environment';\nimport { PortalCommonService } from '../../../service-solicitud/services/portal-common.service';\nimport { DetailsPendingCoordinationsService } from '../../services/details-pending-coordinations.service';\n\n@Component({\n  selector: 'app-details-pending-coordinations',\n  templateUrl: './details-pending-coordinations.page.html',\n  styleUrls: ['./details-pending-coordinations.page.scss']\n})\nexport class DetailsPendingCoordinationsPage implements OnInit {\n\n  @ViewChild(AgmMap)\n  public agmMap: AgmMap\n  \n  translate: TranslateService;\n  latitude: number;\n  longitude: number;\n  confirmResult: boolean | null = null;\n  bsModalRef: BsModalRef;\n  @Input() objDetail: any;\n  @Output() returnToList: any = new EventEmitter();\n\n  constructor(\n    private commonService: PortalCommonService, \n    translate: TranslateService,\n    private detailsPendingCoordinationService: DetailsPendingCoordinationsService, \n    private bsModalService: BsModalService\n  ) {\n    this.translate = translate;\n    translate.setDefaultLang(environment.country);\n  }\n\n  ngOnInit() {\n\n  }\n\n  ngOnChanges(changes: any) {\n    this.latitude = Number(this.objDetail.detail.MedicalCenter.Latitude);\n    this.longitude = Number(this.objDetail.detail.MedicalCenter.Longitude);\n  }\n\n  call() {\n    const initialState: ModalOptions = {\n      initialState: {\n        iconHeader: 'alert-check.svg',\n        subTitle: 'Línea de atención',\n        description: 'Comunícate a la línea de atención del centro de coordinación de centros médicos 24873333',\n        onlyButtonConfirm: true,\n        textButton: 'Aceptar',\n        textButton1: '',\n        textButton2: '',\n        visibleButtonClose: false,\n      },\n      class: 'modal-dialog-centered modal-rounded',\n      id: 'modal-error-no-services',\n      backdrop: true,\n      ignoreBackdropClick: true\n    };\n    this.bsModalRef = this.bsModalService.show(InformativeModalComponent, initialState);\n  }\n\n  returnList(event: any) {\n    this.returnToList.emit({ showlist: false, showdetail: true });\n  }\n\n  cancelCoordination() {\n    this.bsModalRef = this.generateComposeInformativeModal('Confirmación',\n      '¿Estás seguro que deseas cancelar la coordinación?', true);\n    this.bsModalRef.content.onClose.subscribe((isConfirmed: boolean) => {\n      this.confirmResult = isConfirmed;\n      if (this.confirmResult === true) {\n        this.detailsPendingCoordinationService\n          .cancelCoordination(localStorage.getItem(\"registerId\"),\n            this.objDetail.detail.AgendaType,\n            this.objDetail.detail.RDACode,\n            this.objDetail.detail.MedicalCenter.ClinicCode,\n            this.objDetail.detail.SpecialityCode,\n            this.objDetail.detail.YearMonthDay,\n            this.objDetail.detail.Time,\n            this.objDetail.detail.Document,\n            localStorage.getItem(\"CellPhone\"),\n            localStorage.getItem(\"userName\"))\n          .subscribe((result: any) => {\n            if (result.StatusCode === 0) {\n              const initialState: ModalOptions = {\n                initialState: {\n                  iconHeader: 'alert-check.svg',\n                  subTitle: result.Title,\n                  description: result.Message,\n                  onlyButtonConfirm: true,\n                  textButton: 'Aceptar',\n                  textButton1: '',\n                  textButton2: '',\n                  visibleButtonClose: false,\n                },\n                class: 'modal-dialog-centered modal-rounded',\n                id: 'modal-error-no-services',\n                backdrop: true,\n                ignoreBackdropClick: true\n              };\n              this.bsModalRef = this.bsModalService.show(InformativeModalComponent, initialState);\n            } else {\n              const initialState: ModalOptions = {\n                initialState: {\n                  iconHeader: 'alert-circle.svg',\n                  subTitle: result.Title,\n                  description: result.Message,\n                  onlyButtonConfirm: true,\n                  textButton: 'Aceptar',\n                  textButton1: '',\n                  textButton2: '',\n                  visibleButtonClose: false,\n                },\n                class: 'modal-dialog-centered modal-rounded',\n                id: 'modal-error-no-services',\n                backdrop: true,\n                ignoreBackdropClick: true\n              };\n              this.bsModalRef = this.bsModalService.show(InformativeModalComponent, initialState);\n            }\n          },\n            error => this.ReponseError(error));\n      } else {\n      }\n    })\n  }\n\n  ReponseError(error: any) {\n    //this.dialogService.removeAll();\n  }\n\n  generateComposeInformativeModal(subTitle: string, description: string, isError: boolean) {\n    const initialState: ModalOptions = {\n      initialState: {\n        iconHeader: isError ? 'alert-circle.svg' : 'alert-check.svg',\n        subTitle: subTitle,\n        description: description,\n        onlyButtonConfirm: false,\n        textButton: '',\n        textButton1: 'Cancelar',\n        textButton2: 'Aceptar',\n        visibleButtonClose: false,\n      },\n      class: 'modal-dialog-centered modal-rounded',\n      id: 'modal-error-no-services',\n      backdrop: true,\n      ignoreBackdropClick: true\n    };\n    return this.bsModalService.show(InformativeModalComponent, initialState);\n  }\n\n}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { environment } from 'src/environments/environment';\nimport { GlobalServiceVariables } from '../../models/globalServiceVariables';\nimport { NewCoordinationPage } from '../new-coordination/new-coordination.page';\nimport { PendingCoordinationsPage } from '../pending-coordinations/pending-coordinations.page';\n\n@Component({\n  selector: 'app-main-coordinations',\n  templateUrl: './main-coordinations.page.html',\n  styleUrls: ['./main-coordinations.page.scss'],\n})\nexport class MainCoordinationsPage implements OnInit {\n\n  showNewCoordinations = true;\n  showNewCoordinationForm = false;\n  translate: TranslateService;\n  detailCoordination: any = { detail: { MedicalCenter: { \"Latitude\": 0, \"Longitude\": 0 } } };\n  newCoordinationConfirm: any = { PendingCoordinations: [{ MedicalCenter: { \"Latitude\": 0, \"Longitude\": 0 } }] };\n  coordination: any = { SpecialityCode: 0 };\n  showDetailPendingCoordination: boolean = true;\n  showPendingCoordinationsList: boolean = false;\n  reloadCoordinations: boolean = false;\n  reloadNewCoordination: boolean = false;\n\n  constructor(\n    translate: TranslateService, \n    private route: ActivatedRoute,\n    private globalServiceVariables: GlobalServiceVariables\n  ) { \n    this.translate = translate;\n    translate.setDefaultLang(environment.country);\n  }\n\n  @ViewChild(NewCoordinationPage) newCoordinationOneComponent: NewCoordinationPage;\n  @ViewChild(PendingCoordinationsPage) pendingCoordinationsComponent: PendingCoordinationsPage;\n\n  ngOnInit() {\n    localStorage.setItem(\"urlItemMenu\", null!);\n    this.globalServiceVariables.pageTitle = \"Solicitar servicio de coordinaciones en centros médicos\";\n  }\n\n  ngAfterViewInit() {\n    let chatData = this.route.snapshot.data;\n    // let scriptChatLoaded = localStorage.getItem(\"scriptChatLoaded\");\n    // if(scriptChatLoaded === \"true\"){\n\n  }\n\n   //Para mostrar el detalle de la coordinación.\n   showPendingCoordinationDetail(event: any) {\n    this.detailCoordination = event;\n    this.showPendingCoordinationsList = true;\n    this.showDetailPendingCoordination = false;\n  }\n\n  //Para retornar a la lista de coordinaciones pendientes desde el detalle.\n  returnPendingCoordinations(event: any) {\n    this.showPendingCoordinationsList = event.showlist;\n    this.showDetailPendingCoordination = event.showdetail;\n    this.showNewCoordinations = false;\n  }\n\n  //Para retornar a la lista de coordinaciones pendientes desde nueva coordinación.\n  returnList() {\n    //$(\"#pendingCoordinationsTab\").click();\n  }\n\n  NewCoordinations() {\n    this.newCoordinationOneComponent.loadData();\n    this.newCoordinationOneComponent.VisibleOne();\n  }\n\n  ShowNewCoordinations() {\n    this.showNewCoordinations = true;\n  }\n\n  PendingCoordinations() {\n    this.pendingCoordinationsComponent.LoadPending();\n  }\n\n  reloadPendingCoordinations(event: any) {\n    this.reloadCoordinations = event;\n  }\n\n  reloadNewCoordinations(event: any) {\n    this.reloadNewCoordination = event;\n  }\n\n}","import { Component, EventEmitter, Input, OnInit, Output, ViewChild, ViewEncapsulation } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BsModalRef, BsModalService, ModalOptions } from 'ngx-bootstrap/modal';\nimport { UserLogin } from 'src/app/shared/models/user-login';\nimport { environment } from 'src/environments/environment';\nimport { PortalCommonService } from '../../../service-solicitud/services/portal-common.service';\nimport { ConfirmCoordination } from '../../models/ConfirmCoordination.model';\nimport { PaymentForm } from '../../models/paymentForm.model';\nimport { DetailsPendingCoordinationsService } from '../../services/details-pending-coordinations.service';\nimport { NewCoordinationsService } from '../../services/new-coordinations.service';\nimport { InformativeModalComponent } from '../../../../../shared/components/informative-modal/informative-modal.component';\nimport { continueButtonConfigExport, PayButtonConfigExport, PayCoordinationButtonConfigExport } from '../../configs/button-configurations';\nimport { AgmMap } from '@agm/core';\n\n//SwiperCore.use([EffectFade, Navigation, Pagination, Autoplay]);\ndeclare var SetProperties: any;\ndeclare var PWCheckout: any;\n\n@Component({\n  selector: 'app-new-coordination',\n  templateUrl: './new-coordination.page.html',\n  styleUrls: ['./new-coordination.page.scss'],\n  encapsulation: ViewEncapsulation.None,\n})\nexport class NewCoordinationPage implements OnInit {\n\n  translate: TranslateService;\n  servicesTypes: any = [];\n  specialties: any;\n  registerId: any;\n  familyMembers: any = [];\n  coordination = new ConfirmCoordination();\n  specialtyType: string;\n  specialtyMessage: string;\n  medicalCenterSchedules: any;\n  schedules: any;\n  schedules1: any;\n  schedules2: any;\n  schedules3: any;\n  hiddenLabelSchedule: boolean = true;\n  disabledButton: boolean = true;\n  servicesTypesRequired: boolean = false;\n  hiddenStepOne: boolean = false;\n  hiddenStepTwo: boolean = true;\n  hiddenStepThree: boolean = true;\n\n  continueButtonConfig = continueButtonConfigExport;\n  payButtonConfig = PayButtonConfigExport;\n  payCoordinationButtonConfig = PayCoordinationButtonConfigExport;\n\n  preConfirm: any;\n  type: any;\n  latitude: number;\n  longitude: number;\n  confirmResult: boolean;\n  hiddenPayment: boolean;\n  hiddenRecommendations: boolean = true;\n  hiddenButtons: boolean = false;\n  coordinationPaymentMethods: any;\n  paymentForm = new PaymentForm();\n  paymentMethodDebitInvoiceCode = environment.paymentMethodDebitInvoiceCode;\n  franchisesPayment: any;\n  userLogin = new UserLogin();\n  imgRoute: string\n  environment: any;\n  // customer = new Customer();\n  @ViewChild(AgmMap)\n  public agmMap: AgmMap\n\n  @Input() newCoordinationClick: boolean;\n  @Input() reloadNewCoordination: boolean = false;\n  @Input() coordinationDetail: any;\n  @Output() returnToList = new EventEmitter();\n\n  tokenCreated: boolean = false;\n  persons: any;\n  whoDisabled: boolean = true;\n  specialtytTypeThreeDenied: any;\n  disableMedicalCenter: boolean = false;\n  intervalValidateCoordinationPay: any;\n  isLoading = false;\n  bsModalRef: BsModalRef;\n  \n  constructor(\n    private commonService: PortalCommonService, \n    translate: TranslateService,\n    private newCoordinationsService: NewCoordinationsService, \n    private bsModalService: BsModalService, \n    private detailsPendingCoordinationService: DetailsPendingCoordinationsService\n  ) {\n    this.translate = translate;\n    this.environment = environment;\n    this.imgRoute = environment.imagesRoute;\n    translate.setDefaultLang(environment.country);\n    //Aquí se configuran los scripts de pago.\n    if (environment.api_siemprepago && environment.ig_payment) {\n      // PWCheckout.\n      this.load_scripts([environment.api_siemprepago, environment.ig_payment], () => {\n      })\n    }\n   }\n\n   getCardImage(card: string) {\n    if (card) {\n      return `${this.imgRoute}${card.replace('-icon', '.jpg').replace('pay ', '')}`;\n    }\n    else {\n      return `${this.imgRoute}tarjetadef.jpg`;\n    }\n  }\n\n  ngOnInit() {\n    this.loadData();\n    this.VisibleOne();\n  }\n\n  getParam(param: any) {\n    var sPageURL = decodeURIComponent(window.location.search.substring(1)),\n      sURLVariables = sPageURL.split('&'),\n      sParameterName,\n      i;\n    for (i = 0; i < sURLVariables.length; i++) {\n      sParameterName = sURLVariables[i].split('=');\n      if (sParameterName[0] == param) {\n        return sParameterName[1];\n      }\n    }\n    return null\n  }\n\n  loadData() {\n    this.cleanFields();\n    this.registerId = localStorage.getItem(\"registerId\");\n    this.coordination.IdReference = this.registerId;\n    this.coordination.UserEmail = localStorage.getItem(\"userName\");\n    this.coordination.Token = \"1234567890\";\n    this.hiddenRecommendations = true;\n    this.hiddenButtons = false;\n    this.userLogin.documentType = localStorage.getItem(\"documentType\");\n    this.userLogin.document = localStorage.getItem(\"document\");\n    this.userLogin.idReference = this.registerId;\n    this.initializeObject();\n    this.getPersons();\n  }\n\n  VisibleOne() {//Horarios\n    //$(window).scrollTop(0);\n    this.hiddenStepOne = false;\n    this.hiddenStepTwo = true;\n    this.hiddenStepThree = true;\n  }\n\n  VisibleTwo() {//Detalle mapa\n    //$(window).scrollTop(0);\n    this.hiddenStepOne = true;\n    this.hiddenStepTwo = false;\n    this.hiddenStepThree = true;\n    if (Number(this.coordination.Price) > 0) {\n      this.hiddenPayment = false;\n    } else {\n      this.hiddenPayment = true;\n    }\n  }\n\n  VisibleThree() { //Pago\n    localStorage.setItem('tokenCreated', 'false');\n    //$(window).scrollTop(0);\n    this.hiddenStepOne = true;\n    this.hiddenStepTwo = true;\n    this.hiddenStepThree = false;\n    this.coordination.Installments = \"\";\n    this.getPaymentMethods();\n  }\n\n  initializeObject() {\n    this.coordination.Number = \"\";\n    this.coordination.ServicesType = \"\";\n    this.coordination.SpecialityCode = \"\";\n    this.coordination.ClinicCode = \"\";\n    this.coordination.DocumentType = \"\";\n    this.coordination.Number = \"\";\n    this.coordination.Phone = \"\";\n    this.coordination.Email = \"\";\n  }\n\n  getPersons() {\n    this.isLoading = true;\n    this.commonService\n      .getPersons(this.userLogin)\n      .subscribe(\n        (result: any) => {\n          this.isLoading = false;\n          if (result.StatusCode === 0) {\n            this.persons = result.Beneficiaries;\n            let document = this.getParam('document') ? atob(this.getParam('document')!) : \"\";\n            if (document !== \"\" && result.Beneficiaries != null && result.Beneficiaries.length > 0) {\n              this.coordinationData(document);\n              this.whoDisabled = true;\n            } else {\n              this.whoDisabled = false;\n            }\n            this.getServicesTypes();\n          } else {\n            this.isLoading = false;\n            this.bsModalRef = this.generateInformativeModal(result.Title, result.Message, true);\n          }\n          this.isLoading = false;\n        },\n        (error: any) => {\n          this.ErrorRegister(error)\n          this.isLoading = false;\n        });\n  }\n\n  coordinationData(documento: string) {\n    let selectedPerson = this.persons.filter((obj: any) => obj.Document === documento);\n    this.coordination.DocumentType = selectedPerson[0].DocumentType;\n    this.coordination.Number = documento;\n    this.coordination.Phone = (selectedPerson[0].CellPhone === null || selectedPerson[0].CellPhone === '') ? \"090000000\" : selectedPerson[0].CellPhone;\n    this.coordination.Email = (selectedPerson[0].Email === null || selectedPerson[0].Email === '') ? \"test@hotmail.com\" : selectedPerson[0].Email;\n    this.coordination.FullNames = selectedPerson[0].FullNames;\n  }\n\n  onChangeSelectPerson(documentEvent: any) {\n    this.coordinationData(documentEvent.target.value);\n  }\n\n  getServicesTypes() {\n    this.isLoading = true;\n    this.newCoordinationsService\n      .getServicesTypes('DataLists/GetServiceTypes')\n      .subscribe(\n        (result: any) => {\n          this.servicesTypes = result.DataList;\n          this.reloadNewCoordination = false;\n          this.isLoading = false;\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  onChangeFamily(document: string) {\n    this.familyMembers.forEach((element: any) => {\n      if (element.Document === document) {\n        this.coordination.DocumentType = element.DocumentType;\n        this.coordination.Phone = element.Phone;\n        this.coordination.Email = element.Email;\n        this.coordination.FullNames = element.FullNames;\n      }\n    });\n  }\n\n  getSpecialties(serviceTypeId: string) {\n    this.isLoading = true;\n    this.newCoordinationsService\n      .getSpecialties(serviceTypeId)\n      .subscribe(\n        (result: any) => {\n          this.specialties = result['MedicalSpecialites'];\n          this.isLoading = false;\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  onChangeSpeciality(codeEvent: any) {\n    const code = codeEvent.target.value;\n    if (code != null && code != \"\") {\n      let specialtySelected = this.specialties.filter((obj: any) => obj.Code === code);\n      this.coordination.SpecialityName = specialtySelected[0].Description;\n      this.cleanDependenciesSpeciality();\n      this.getMedicalCenterSchedules(specialtySelected[0]);\n    } else {\n      this.cleanDependenciesSpeciality();\n    }\n  }\n\n  cleanDependenciesSpeciality() {\n    this.coordination.ClinicCode = \"\";\n    this.schedules = [];\n    this.schedules1 = [];\n    this.schedules2 = [];\n    this.schedules3 = [];\n    this.hiddenLabelSchedule = true;\n    this.disabledButton = true;\n    this.medicalCenterSchedules = [];\n  }\n\n  onChangeServicesTypes(serviceTypeIdEvent: any) {\n    const serviceTypeId = serviceTypeIdEvent.target.value;\n    if (serviceTypeId != null && serviceTypeId != \"\") {\n      if (Number(serviceTypeId) >= 0) {\n        this.servicesTypesRequired = false;\n      }\n      this.servicesTypes.forEach((element: any) => {\n        if (element.Code === serviceTypeId) {\n          this.coordination.ServicesTypeName = element.Name;\n        }\n      });\n      // Limpiar campos dependientes y volver a consultar\n      this.cleanDependenciesServicesTypes();\n      this.getSpecialties(serviceTypeId);\n    } else {\n      this.servicesTypesRequired = true;\n      this.disabledButton = true;\n      // Limpiar campos dependientes\n      this.cleanDependenciesServicesTypes();\n    }\n  }\n\n  cleanDependenciesServicesTypes() {\n    this.schedules = [];\n    this.schedules1 = [];\n    this.schedules2 = [];\n    this.schedules3 = [];\n    this.medicalCenterSchedules = [];\n    this.specialties = [];\n    this.hiddenLabelSchedule = true;\n    this.coordination.ClinicCode = \"\";\n    this.coordination.SpecialityCode = \"\";\n  }\n\n  preConfirmCoordination() {\n    this.isLoading = true;\n    this.coordination.Phone = \"090000000\";\n    this.newCoordinationsService\n      .preConfirmCoordination(this.coordination)\n      .subscribe(\n        (result: any) => {\n          if (result.StatusCode === 0) {\n            this.preConfirm = result.PreConfirm;\n            this.coordination.Price = this.preConfirm.Price;\n            this.coordination.ClinicAddress = this.preConfirm.ClinicAddress;\n            this.coordination.PatientCode = this.preConfirm.PatientCode;\n            this.coordination.ProductCode = this.preConfirm.ProductCode;\n            this.VisibleTwo();\n            // Cargar mapa\n            this.latitude = Number(this.preConfirm.Latitude);\n            this.longitude = Number(this.preConfirm.Longitude);\n            // this.agmMap.triggerResize();\n          } else {\n            this.bsModalRef = this.generateInformativeModal(result.Title, result.Message, true);\n          }\n          localStorage.setItem('tokenCreated', 'false');\n          this.isLoading = false;\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  confirmCoordination() {\n    this.isLoading = true;\n    this.newCoordinationsService\n      .confirmCoordination(this.coordination)\n      .subscribe(\n        (result: any) => {\n          if (result.StatusCode === 0) {\n            this.isLoading = false;\n            this.coordination.Recommendations = result.Recommendations === \"\" ? \"No se encontraron recomendaciones.\" : result.Recommendations;\n            this.hiddenRecommendations = false;\n            this.hiddenButtons = true;\n            this.bsModalRef = this.generateInformativeModal(result.Title, result.Message, false);\n          } else {\n            this.hiddenRecommendations = true;\n            this.hiddenButtons = false;\n            this.bsModalRef = this.generateInformativeModal(result.Title, result.Message, true);\n          }\n          this.isLoading = false;\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  cleanFields() {\n    this.coordination.ClinicAddress = \"\";\n    this.coordination.ClinicCode = \"\";\n    this.coordination.ClinicName = \"\";\n    this.coordination.Date = \"\";\n    this.coordination.Installments = \"\";\n    this.coordination.LocalCode = \"\";\n    this.coordination.PaymentMethodCode = \"\";\n    this.coordination.PaymentMethodName = \"\";\n    this.coordination.Price = \"\";\n    this.coordination.ProductCode = \"\";\n    this.coordination.Recommendations = \"\";\n    this.coordination.ServicesType = \"\";\n    this.coordination.ServicesTypeName = \"\";\n    this.coordination.SpecialityCode = \"\";\n    this.coordination.SpecialityName = \"\";\n    this.coordination.Time = \"\";\n    this.coordination.TrxToken = \"\";\n    this.coordination.YearMonthDay = \"\";\n    this.schedules = [];\n    this.schedules1 = [];\n    this.schedules2 = [];\n    this.schedules3 = [];\n    this.hiddenLabelSchedule = true;\n    this.disabledButton = true;\n    this.servicesTypesRequired = true;\n  }\n\n  getMedicalCenterSchedules(specialtySelected: any) {\n    this.isLoading = true;\n    this.newCoordinationsService\n      .getMedicalCenterSchedules('Coordinations/MedicalCenterSchedules', specialtySelected.Code)\n      .subscribe(\n        (resultResponse: any) => {\n          const result = resultResponse['MedicalCenterSchedules']\n          if (result.length > 0) {\n            this.disableMedicalCenter = false;\n            this.medicalCenterSchedules = result;\n          } else {\n            if (specialtySelected.Type !== \"3\") {\n              this.disableMedicalCenter = true;\n              this.bsModalRef = this.generateInformativeModal('Coordinación', \"La especialidad que estás solicitando no tiene agenda  disponible en las próximas 72 h hábiles. Por favor, inténtalo de nuevo a la brevedad o comunícate al 2487 3333 de 9 a 19 horas\", true);\n            }\n          }\n          this.isLoading = false;\n          this.validateSpecialty(specialtySelected);\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  validateSpecialty(specialtySelected: any) {\n    if (specialtySelected.Type === \"1\") {\n      this.disabledButton = false;\n    }\n    else if (specialtySelected.Type === \"2\") {\n      this.bsModalRef = this.generateInformativeModal('Coordinación', specialtySelected.Message, true);\n      this.disabledButton = false;\n    } else if (specialtySelected.Type === \"3\") {\n      this.bsModalRef = this.generateInformativeModal('Coordinación', specialtySelected.Message, true);\n      this.disabledButton = true;\n    }\n    this.specialtytTypeThreeDenied = specialtySelected.Type\n  }\n\n  selectedSchedule(clinicCodeEvent: any) {\n    const clinicCode = clinicCodeEvent.target.value;\n    if (clinicCode != null && clinicCode != \"\") {\n      this.medicalCenterSchedules.forEach((element: any) => {\n        if (element.ClinicCode === clinicCode) {\n          this.schedules = new Array();\n          this.schedules1 = new Array();\n          this.schedules2 = new Array();\n          this.schedules3 = new Array();\n          this.schedules = element.MedicalCenterSchedules;\n          var countsSchedules = this.schedules.length;\n          var itemscolums = Number(countsSchedules / 3);\n          for (var i = 0; i < this.schedules.length; i++) {\n            if (i < itemscolums) {\n              this.schedules1.push(this.schedules[i]);\n            } else if (i < (itemscolums * 2)) {\n              this.schedules2.push(this.schedules[i]);\n            } else {\n              this.schedules3.push(this.schedules[i]);\n            }\n          }\n          this.coordination.ClinicName = element.ClinicName;\n          this.coordination.RDACode = element.RDACode;\n          this.coordination.LocalCode = element.LocalCode;\n          this.hiddenLabelSchedule = false;\n          this.disabledButton = true;\n        }\n      });\n    } else {\n      this.schedules = [];\n      this.schedules1 = [];\n      this.schedules2 = [];\n      this.schedules3 = [];\n      this.hiddenLabelSchedule = true;\n      this.disabledButton = true;\n    }\n  }\n\n  selectSchedule(yearMonthDay: string, time: string, date: string) {\n    this.disabledButton = false;\n    this.coordination.YearMonthDay = yearMonthDay;\n    this.coordination.Time = time;\n    this.coordination.Date = date;\n  }\n\n  //Logica detalle\n  call() {\n    this.bsModalRef = this.generateInformativeModal('Línea de atención', \"Comunícate a la línea de atención del centro de coordinación de centros médicos 24873333\", false);\n  }\n\n  returnNewCoordination() {\n    if (this.hiddenButtons) {//Ya confirmó\n      this.hiddenRecommendations = true;\n      this.hiddenButtons = false;\n      this.cleanFields();\n    }\n    this.VisibleOne();\n  }\n\n  cancelCoordination() {\n    this.bsModalRef = this.generateInformativeModal('Confirmación', \"¿Estás seguro de cancelar la coordinación?\", false, false);\n    this.bsModalRef.content.onClose.subscribe((accepted: boolean) => {\n      if (accepted) {\n        this.confirmResult = accepted;\n        if (this.confirmResult === true) {\n          this.detailsPendingCoordinationService\n            .cancelCoordination(localStorage.getItem(\"registerId\"),\n              this.coordination.ServicesType,\n              this.coordination.RDACode,\n              this.coordination.ClinicCode,\n              this.coordination.SpecialityCode,\n              this.coordination.YearMonthDay,\n              this.coordination.Time,\n              this.coordination.Number,\n              localStorage.getItem(\"CellPhone\"),\n              localStorage.getItem(\"userName\")).subscribe((response: any) => {\n                if (response.StatusCode === 0) {\n                  if (!response.Tittle || !response.Message) {\n                    this.generateInformativeModal('Confirmación', \"La coordinación ha sido cancelada\", false);\n                  } else {\n                    this.generateInformativeModal(response.Tittle, response.Message, false);\n                  }\n                } else {\n                  if (!response.Tittle || !response.Message) {\n                    this.generateInformativeModal('Error', \"Ocurrió un error al cancelar la coordinación\", true);\n                  } else {\n                    this.generateInformativeModal(response.Tittle, response.Message, true);\n                  }\n                }\n              })\n        }\n      }\n    })\n  }\n\n  returnList() {\n    this.returnToList.emit();\n  }\n\n  //Termina logica detalle\n  getPaymentMethods() {\n    this.isLoading = true;\n    this.newCoordinationsService\n      .getPaymentMethods(this.coordination)\n      .subscribe(\n        (result: any) => {\n          this.isLoading = false;\n          if (result.StatusCode === 0) {\n            if (result.CoordinationPaymentMethods.length > 0) {\n              this.coordinationPaymentMethods = result.CoordinationPaymentMethods\n                .filter((obj: any) => obj.ExternalMethod === false);\n              this.franchisesPayment = result.CoordinationPaymentMethods\n                .filter((obj: any) => obj.ExternalMethod === true);\n            } else {\n              this.coordinationPaymentMethods = [];\n              this.franchisesPayment = [];\n            }\n          } else {\n            if (!result.Tittle || !result.Message) {\n              this.bsModalRef = this.generateInformativeModal('Error', \"Ocurrió un error al obtener los métodos de pago\", true);\n            } else {\n              this.bsModalRef = this.generateInformativeModal(result.Tittle, result.Message, true);\n            }\n          }\n          this.isLoading = false;\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  OnTokenCreated() {\n    localStorage.setItem('tokenCreated', 'true');\n  }\n\n  /**\n   * Método que inicializa el pago.\n   *\n   * @memberof NewCoordinationComponent\n   */\n  goToPayCoordination() {\n    this.setProperties();\n    PWCheckout.Bind(\"tokenCreated\", this.OnTokenCreated);\n    this.listenReadyToPay()\n    const myDiv: any = document.getElementById('PWToken');\n    var trxToken = myDiv.value;\n    PWCheckout.OpenIframeNormal()\n  }\n\n  /**\n   * Método que está pendiente cuando se establezca token para realizar pago.\n   *\n   * @memberof NewCoordinationComponent\n   */\n  listenReadyToPay() {\n    this.intervalValidateCoordinationPay = setInterval(() => {\n      var value = localStorage.getItem(\"tokenCreated\");\n      if (value === \"true\") {\n        let paymentMethod = {\n          PaymentMethodCode: \"ONLINE\",\n          PaymentMethodName: \"ONLINE\"\n        }\n        const myDiv: any = document.getElementById('PWToken');\n        var trxToken = myDiv.value;\n        this.coordination.TrxToken = trxToken;\n        this.payCoordination(paymentMethod);\n        this.intervalValidateCoordinationPay = null;\n      }\n    }, 1000);\n  }\n\n  payCoordination(paymentMethods: any) {\n    localStorage.setItem('tokenCreated', 'false');\n    this.coordination.PaymentMethodCode = paymentMethods.PaymentMethodCode;\n    this.coordination.PaymentMethodName = paymentMethods.PaymentMethodName;\n    if (this.coordination.PaymentMethodCode != this.paymentMethodDebitInvoiceCode) {\n      // A los diferentes de débito en factura\n      this.coordination.Installments = \"1\";\n    }\n    if (this.coordination.Installments === \"\") {\n      this.bsModalRef = this.generateInformativeModal('Validación de información', \"Seleccione el número de cuotas.\", true);\n      return;\n    }\n    this.isLoading = true;\n    this.newCoordinationsService\n      .payCoordination(this.coordination)\n      .subscribe(\n        (result: any) => {\n          this.isLoading = false;\n          if (result.StatusCode === 0) {\n            this.bsModalRef = this.generateInformativeModal(result.Title, result.Message, false);\n            this.coordination.Recommendations = result.Recommendations === \"\" ? \"No se encontraron recomendaciones.\" : result.Recommendations;\n            this.VisibleTwo();\n            this.hiddenRecommendations = false;\n            this.hiddenButtons = true;\n          } else {\n            this.bsModalRef = this.generateInformativeModal(result.Title, result.Message, true);\n          }\n          localStorage.setItem('tokenCreated', 'false');\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  setProperties() {\n    this.paymentForm.form_id = \"formCoordinationId\";\n    this.paymentForm.amount = this.coordination.Price;\n    this.paymentForm.email = this.coordination.UserEmail;\n    SetProperties(this.paymentForm);\n  }\n\n  getBankCardInformation() {\n    this.newCoordinationsService\n      .getBankCardInformation()\n      .subscribe(\n        (resultData: any) => {\n          const result = resultData[\"CardInformationList\"];\n          this.franchisesPayment = result;\n        },\n        (error: any) => this.ErrorRegister(error));\n  }\n\n  private ErrorRegister(error: any) {\n    localStorage.setItem('tokenCreated', 'false');\n    this.bsModalRef = this.generateInformativeModal('Inconvenientes con el portal', 'En este momento no podemos procesar tu solicitud. Por favor inténtalo mas tarde.', true);\n    this.isLoading = false;\n  }\n\n  // RECURSIVE LOAD SCRIPTS\n  load_scripts(urls: any, final_callback: any, index = 0) {\n    const that = this;\n    if (typeof urls[index + 1] === \"undefined\") {\n      this.load_script(urls[index], final_callback);\n    } else {\n      this.load_script(urls[index], function () {\n        that.load_scripts(urls, final_callback, index + 1);\n      });\n    }\n  }\n\n  // LOAD SCRIPT\n  load_script(url: string, callback: Function) {\n    var script = document.createElement('script');\n    script.type = \"text/javascript\";\n    script.onload = function () { callback(); };\n    script.src = url;\n    document.head.appendChild(script);\n  }\n\n  generateInformativeModal(subTitle: string, description: string, isError: boolean, onlyButtonConfirm: boolean = true) {\n    const initialState: ModalOptions = {\n      initialState: {\n        iconHeader: isError ? 'alert-circle.svg' : 'alert-check.svg',\n        subTitle: subTitle,\n        description: description,\n        onlyButtonConfirm: onlyButtonConfirm,\n        textButton: 'Aceptar',\n        textButton1: 'Cancelar',\n        textButton2: 'Aceptar',\n        visibleButtonClose: false,\n      },\n      class: 'modal-dialog-centered modal-rounded',\n      id: 'modal-error-no-services',\n      backdrop: true,\n      ignoreBackdropClick: true\n    };\n    return this.bsModalService.show(InformativeModalComponent, initialState);\n  }\n\n}\n","import { Component, EventEmitter, OnInit, Output } from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { environment } from 'src/environments/environment';\nimport { PendingCoordinationsService } from '../../services/pending-coordinations.service';\n\n@Component({\n  selector: 'app-pending-coordinations',\n  templateUrl: './pending-coordinations.page.html',\n  styleUrls: ['./pending-coordinations.page.scss'],\n})\nexport class PendingCoordinationsPage implements OnInit {\n\n  translate: TranslateService;\n  coordinationsPending: any;\n  registerId: any;\n  imgRoute: string;\n  environment: any;\n  @Output() sendCoordinationDetail = new EventEmitter();\n\n  constructor(\n    private pendingCoordinationsService: PendingCoordinationsService, \n    translate: TranslateService\n  ) {\n    this.translate = translate;\n    this.environment = environment;\n    this.imgRoute = environment.imagesRoute;\n    translate.setDefaultLang(environment.country);\n   }\n\n   ngOnInit() {\n    this.LoadPending();\n  }\n\n  LoadPending() {/* TODO\n    this.dialogService.addDialog(ModalLoadComponent, {\n    }, { closeByClickingOutside: false });*/\n    \n    this.registerId = localStorage.getItem(\"registerId\");\n    this.getPendingCoordinations(this.registerId);\n  }\n\n  getPendingCoordinations(id: any) {\n    this.pendingCoordinationsService.getPendingCoordinationsList(id)\n      .subscribe((result: any) => {\n        /* coordinations mock\n        const testCoordinations = [{\n          Names: \"Juan Perez\",\n          SpecialityName: \"Cardiología\",\n          Date: \"01/01/2019\",\n          Price: \"99999\",\n          AgendaName: \"Consulta\",\n          MedicalCenter: {\n            ClinicName: \"Clinica de la salud\",\n            Address: \"Calle falsa 123\",\n            Latitude: \"-34.914343\",\n            Longitude: \"-56.155703\"\n          },\n        }, {\n          Names: \"Juan Perez\",\n          SpecialityName: \"Cardiología\",\n          Date: \"01/01/2019\",\n          Price: \"99999\",\n          AgendaName: \"Consulta\",\n          MedicalCenter: {\n            ClinicName: \"Clinica de la salud\",\n            Address: \"Calle falsa 123\",\n            Latitude: \"-34.914343\",\n            Longitude: \"-56.155703\"\n          },\n        }, {\n          Names: \"Juan Perez\",\n          SpecialityName: \"Cardiología\",\n          Date: \"01/01/2019\",\n          Price: \"99999\",\n          AgendaName: \"Consulta\",\n          MedicalCenter: {\n            ClinicName: \"Clinica de la salud\",\n            Address: \"Calle falsa 123\",\n            Latitude: \"-34.914343\",\n            Longitude: \"-56.155703\"\n          },\n        },]\n        this.coordinationsPending = testCoordinations;*/\n        this.coordinationsPending = result.PendingCoordinations;\n      },\n        (error: any) => this.ErrorLoad(error));\n  }\n\n  sendDetail(event: any, coordination: any) {\n    this.sendCoordinationDetail.emit({ detail: coordination });\n  }\n\n  ErrorLoad(error: any) {\n    // TODO mostrar el error en un modal\n    console.log(error);\n  }\n\n}\n","import { ButtonType } from \"src/app/shared/enums/enumerations\";\nimport { ButtonConfiguration } from \"src/app/shared/models/button-configuration\";\n\nconst continueButtonConfig = new ButtonConfiguration();\n\ncontinueButtonConfig.buttonType = ButtonType.Primary;\ncontinueButtonConfig.text = 'Continuar';\ncontinueButtonConfig.width = \"140px\";\n\nexport const continueButtonConfigExport = continueButtonConfig;\n\nconst PayButtonConfig = new ButtonConfiguration();\n\nPayButtonConfig.buttonType = ButtonType.Primary;\nPayButtonConfig.text = 'Pagar';\nPayButtonConfig.width = \"140px\";\n\nexport const PayButtonConfigExport = PayButtonConfig;\n\nconst PayCoordinationButtonConfig = new ButtonConfiguration();\n\nPayCoordinationButtonConfig.buttonType = ButtonType.Primary;\nPayCoordinationButtonConfig.text = 'Pagar Coordinación';\nPayCoordinationButtonConfig.width = \"200px\";\n\nexport const PayCoordinationButtonConfigExport = PayCoordinationButtonConfig;\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { HaveBeLoggedInGuard } from 'src/app/core/guard/have-be-logged-in.guard';\nimport { ClinicDetailsPage } from './components/clinic-details/clinic-details.page';\nimport { MainCoordinationsPage } from './components/main-coordinations/main-coordinations.page';\n\nimport { MedicalCentersPage } from './medical-centers.page';\nimport { NewCoordinationPage } from './components/new-coordination/new-coordination.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    canActivate: [HaveBeLoggedInGuard],\n    component: MedicalCentersPage\n  },\n  {\n    //Clinicas detalle, adicciona las coordenadas en su detalle\n    path: 'details/:code/:patientDirectionLatitude/:patientDirectionLongitude',\n    canActivate: [HaveBeLoggedInGuard],\n    component: ClinicDetailsPage,\n    pathMatch: 'full'\n  },\n  {\n    //Clinicas detalle, flujo habitual\n    path: 'details/:code',\n    canActivate: [HaveBeLoggedInGuard],\n    component: ClinicDetailsPage,\n    pathMatch: 'full'\n  },\n  {\n    path: 'coordinations',\n    canActivate: [HaveBeLoggedInGuard],\n    component: MainCoordinationsPage,\n    pathMatch: 'full'\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MedicalCentersPageRoutingModule {}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA, Injectable } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { MedicalCentersPageRoutingModule } from './medical-centers-routing.module';\nimport { MedicalCentersPage } from './medical-centers.page';\nimport { SharedModule } from '../../../shared/shared.module';\nimport { GlobalServiceVariables } from './models/globalServiceVariables';\nimport { ClinicDetailsPage } from './components/clinic-details/clinic-details.page';\nimport { DetailsPendingCoordinationsPage } from './components/details-pending-coordinations/details-pending-coordinations.page';\nimport { MainCoordinationsPage } from './components/main-coordinations/main-coordinations.page';\nimport { NewCoordinationPage } from './components/new-coordination/new-coordination.page';\nimport { PendingCoordinationsPage } from './components/pending-coordinations/pending-coordinations.page';\nimport { ArraySortPipe } from './pipes/array-sort.pipe';\nimport { AgmCoreModule, GoogleMapsAPIWrapper, LazyMapsAPILoaderConfigLiteral, LAZY_MAPS_API_CONFIG } from '@agm/core';\nimport { environment } from 'src/environments/environment';\n\n@Injectable()\nexport class GoogleMapsConfig implements LazyMapsAPILoaderConfigLiteral {\n  apiKey: string\n  constructor() {\n    this.apiKey = environment.apiKeyMaps;\n  }\n}\n\n@NgModule({\n  imports: [\n    SharedModule,\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MedicalCentersPageRoutingModule,\n    AgmCoreModule.forRoot({\n      apiKey: environment.apiKeyMaps, libraries: [\"places\"]\n    }),\n  ],\n  declarations: [\n    MedicalCentersPage,\n    ClinicDetailsPage,\n    DetailsPendingCoordinationsPage,\n    MainCoordinationsPage,\n    NewCoordinationPage,\n    ArraySortPipe,\n    PendingCoordinationsPage\n  ],\n  providers: [\n    GoogleMapsAPIWrapper,\n    GlobalServiceVariables,\n    {\n      provide: LAZY_MAPS_API_CONFIG, useClass: GoogleMapsConfig\n    },\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class MedicalCentersPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { TranslateService } from '@ngx-translate/core';\nimport { BsModalRef, BsModalService, ModalOptions } from 'ngx-bootstrap/modal';\nimport { InformativeModalComponent } from 'src/app/shared/components/informative-modal/informative-modal.component';\nimport { UrlDataService } from 'src/app/shared/services/url-data-service';\nimport { environment } from 'src/environments/environment';\nimport { Clinic } from './models/clinics';\nimport { MedicalCentersGeneralService } from './services/medical-centers-general.service';\nimport { CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { GoogleMapsAPIWrapper, MapsAPILoader } from '@agm/core';\n\n@Component({\n  selector: 'app-medical-centers',\n  templateUrl: './medical-centers.page.html',\n  styleUrls: ['./medical-centers.page.scss'],\n  providers: [GoogleMapsAPIWrapper]\n})\nexport class MedicalCentersPage implements OnInit {\n\n  clinics: any;\n  latlngBounds: any;\n  currentLocation = new Clinic();\n  imgRoute: string;\n  environment: any;\n  medicalCentersLatitude: any;\n  medicalCenterLongitude: any;\n  PatientAddressLatitude: any;\n  PatientAddressLongitude: any;\n  medicalCenterclinicCode: any;\n  patientDirectionLongitude: any;\n  patientDirectionLatitude: any;\n  validationCoordsPatient: boolean;\n  validateNewFlowNoCoords: boolean;\n  bsModalRef: BsModalRef;\n\n  constructor(\n    private medicalCentersService: MedicalCentersGeneralService, \n    private translate: TranslateService,\n    private router: Router, \n    private route: ActivatedRoute,\n    private modalService: BsModalService, \n    private urlDataService: UrlDataService,\n    private googlemapsAPI: GoogleMapsAPIWrapper,\n    private mapsAPILoader: MapsAPILoader\n  ) {\n    this.urlDataService.setHeaderNavPortal(['Centros Médicos']);\n    this.translate = translate;\n    this.environment = environment;\n    this.imgRoute = environment.imagesRoute;\n    translate.setDefaultLang(environment.country);\n   }\n\n  ngOnInit() {\n    if (navigator.geolocation) {\n      navigator.geolocation.getCurrentPosition(position => {\n        this.getLocation(position.coords);\n      });\n    }\n    this.getClinics();\n    this.validateCoordsPatiend();\n  }\n\n  ngAfterViewInit() {\n\n  }\n\n  validateCoordsPatiend() {\n    let patientDirectionLatitude: any = this.route.snapshot.paramMap.get('patientDirectionLatitude');\n    if (patientDirectionLatitude === 'NaN' && this.validationCoordsPatient == false) {\n      this.validateNewFlowNoCoords = true;\n      this.bsModalRef = this.generateInformativeModal('Inconvenientes con el portal', 'No se pudo obtener las distancias de los centros médicos, no se encontraron coordenadas del paciente, por favor espere o comuniquese con soporte.', true);\n    }\n  }\n\n  async getClinics() {\n    return await this.medicalCentersService\n      .getClinicsNearby('Coordinations/MedicalCenters')\n      .subscribe((result: any) => {\n        this.clinics = result['MedicalCenterSchedules'];\n        //  AAE - Cálculo de distancias en kilómetros y pocicionamiento de centros médicos según cercanía.\n        this.clinics.forEach((medicalCenter: any) => {\n          medicalCenter.Latitude = Number(medicalCenter.Latitude);\n          medicalCenter.Longitude = Number(medicalCenter.Longitude);\n          this.medicalCentersLatitude = medicalCenter.Latitude;\n          this.medicalCenterLongitude = medicalCenter.Longitude;\n\n          // Obteniendo el parametro extraído por url router, coordenadas del paciente, y convirtiendolo en number para poder usar ubicación en el mapa\n          this.patientDirectionLatitude = Number(this.route.snapshot.paramMap.get('patientDirectionLatitude'));\n          this.patientDirectionLongitude = Number(this.route.snapshot.paramMap.get('patientDirectionLongitude'));\n          this.PatientAddressLatitude = this.patientDirectionLatitude;\n          this.PatientAddressLongitude = this.patientDirectionLongitude;\n          // Validando flujo que toma el usuario, si hay coordenadas, mostrando este nuevo flujo\n          if (this.PatientAddressLongitude == '0' || this.PatientAddressLongitude == null || this.PatientAddressLongitude.length < 1 ||\n            this.PatientAddressLatitude == '0' || this.PatientAddressLatitude == null || this.PatientAddressLatitude.length < 1) {\n            this.validationCoordsPatient = true;\n          } else {\n            this.validationCoordsPatient = false;\n          }\n          // Lenado y inicialización de la función\n          let latitudeOnePatientDirection: any = this.PatientAddressLatitude;\n          let lengthOnePatientDirection: any = this.PatientAddressLongitude;\n          let latitudeTwoMedicalCenter: any = this.medicalCentersLatitude;\n          let lengthTwoMedicalCenter: any = this.medicalCenterLongitude;\n          let rad = function (x: number) { return x * Math.PI / 180; }\n          let LandRadioKilometers = 6378.137; // Radio de la tierra en km\n          let distanceLatitude = rad(latitudeTwoMedicalCenter - latitudeOnePatientDirection);\n          let distanceLength = rad(lengthTwoMedicalCenter - lengthOnePatientDirection);\n          let LandAndUbications = Math.sin(distanceLatitude / 2) * Math.sin(distanceLatitude / 2) + Math.cos(rad(latitudeOnePatientDirection)) * Math.cos(rad(latitudeTwoMedicalCenter)) * Math.sin(distanceLength / 2) * Math.sin(distanceLength / 2);\n          let squareRoot = 2 * Math.atan2(Math.sqrt(LandAndUbications), Math.sqrt(1 - LandAndUbications));\n          let distance = (LandRadioKilometers * squareRoot);\n          medicalCenter.MedicalCenterDistance = distance;\n        });\n\n        // Conversion\n        this.clinics.forEach((m: any) => {\n          m.Latitude = Number(m.Latitude);\n          m.Longitude = Number(m.Longitude);\n        });\n\n        // Se crea el cuadro de mapa\n        this.setBounds();\n      },\n        error => this.ErrorRegister(error));\n  }\n\n  private setBounds(): void {\n    this.mapsAPILoader.load().then(() => {\n      this.latlngBounds = new google.maps.LatLngBounds();\n      this.clinics.forEach((marker: any) => {\n        this.latlngBounds.extend(new google.maps.LatLng(marker.Latitude, marker.Longitude))\n      });\n    });\n  }\n\n  private getLocation(position: any) {\n    this.currentLocation.Latitud = position.latitude;\n    this.currentLocation.Longitud = position.longitude;\n  }\n\n  clinicDetail(clinic: any): void {\n    if (this.PatientAddressLongitude == 0) {\n      //Si es el flujo normal, enviar el parametro habitual\n      this.router.navigate(['portal/admin/clinics/details', clinic.ClinicCode]);\n    } else {\n      //Si es el flujo de clinicas por distancia, enviando parametros para validaciones en el detalle.\n      this.router.navigate(['portal/admin/clinics/details', clinic.ClinicCode, this.PatientAddressLatitude, this.PatientAddressLongitude]);\n    }\n  }\n\n  onMouseOver(infoWindow: any, gm: any) {\n    if (gm.lastOpen != null) {\n      gm.lastOpen.close();\n    }\n    gm.lastOpen = infoWindow;\n    infoWindow.open();\n  }\n\n  private ErrorRegister(error: any) {\n    this.bsModalRef = this.generateInformativeModal('Inconvenientes con el portal', 'No se pudo procesar la solicitud, por favor inténtelo más tarde.', true);\n  }\n\n  generateInformativeModal(subTitle: string, description: string, isError: boolean) {\n    const initialState: ModalOptions = {\n      initialState: {\n        iconHeader: isError ? 'alert-circle.svg' : 'alert-check.svg',\n        subTitle: subTitle,\n        description: description,\n        onlyButtonConfirm: true,\n        textButton: 'Aceptar',\n        textButton1: '',\n        textButton2: '',\n        visibleButtonClose: false,\n      },\n      class: 'modal-dialog-centered modal-rounded',\n      id: 'modal-error-no-services',\n      backdrop: true,\n      ignoreBackdropClick: true\n    };\n    return this.modalService.show(InformativeModalComponent, initialState);\n  }\n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'sort'\n})\nexport class ArraySortPipe implements PipeTransform {\n  transform(array: any, field: string): any[] {\n    if (!Array.isArray(array)) {\n      return [];\n    }\n    array.sort((a: any, b: any) => {\n      if (a[field] < b[field]) {\n        return -1;\n      } else if (a[field] > b[field]) {\n        return 1;\n      } else {\n        return 0;\n      }\n    });\n    return array;\n  }\n}","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class DetailsPendingCoordinationsService {\n\n  constructor(private http: HttpClient) { }\n\n  cancelCoordination(registerId: any,\n    agendaType: string,\n    RDACode: string,\n    clinicCode: string,\n    specialityCode: string,\n    day: string,\n    hour: string,\n    document: string,\n    phone: string | null,\n    userEmail: string | null): Observable<any> {\n\n    let url = environment.API_URL + 'Coordinations/CancelCoordination';\n    let params = {\n      \"IdReference\": registerId,\n      \"AgendaType\": agendaType,\n      \"RDACode\": RDACode,\n      \"ClinicCode\": clinicCode,\n      \"SpecialityCode\": specialityCode,\n      \"YearMonthDay\": day,\n      \"Time\": hour,\n      \"Document\": document,\n      \"Phone\": phone,\n      \"UserEmail\": userEmail\n    }\n    return this.http\n      .post(url, params)\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MedicalCentersGeneralService {\n\n  constructor(private http: HttpClient) { }\n\n  public getClinicsNearby(payload: any) {\n    return this.http.post(environment.API_URL + '/Coordinations/MedicalCenters', payload);\n  }\n\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { ConfirmCoordination } from '../models/ConfirmCoordination.model';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NewCoordinationsService {\n\n  constructor(private http: HttpClient) { }\n\n  preConfirmCoordination(coordination: ConfirmCoordination) {\n    let params = {\n      IdReference: coordination.IdReference,\n      Token: coordination.Token,\n      RDACode: coordination.RDACode,\n      LocalCode: coordination.LocalCode,\n      ClinicCode: coordination.ClinicCode,\n      SpecialityCode: coordination.SpecialityCode,\n      DocumentType: coordination.DocumentType,\n      Number: coordination.Number,\n      Phone: coordination.Phone\n    }\n    return this.http\n      .post(environment.API_URL + 'Coordinations/PreConfirmCoordination', params)\n  }\n\n  getServicesTypes(url: string) {\n    return this.http.post(environment.API_URL + url, null)\n  }\n\n  getSpecialties(serviceType: string) {\n    let url = 'DataLists/GetMedicalSpecialites';\n    let params = {\n      ServiceType: serviceType\n    }\n    return this.http.post(environment.API_URL + url, params)\n  }\n\n  confirmCoordination(coordination: ConfirmCoordination) {\n    let params = {\n      IdReference: coordination.IdReference,\n      Token: coordination.Token,\n      RDACode: coordination.RDACode,\n      LocalCode: coordination.LocalCode,\n      ClinicCode: coordination.ClinicCode,\n      SpecialityCode: coordination.SpecialityCode,\n      Phone: coordination.Phone,\n      Email: coordination.Email,\n      YearMonthDay: coordination.YearMonthDay,\n      Time: coordination.Time,\n      PatientCode: coordination.PatientCode,\n      ProductCode: coordination.ProductCode,\n      UserEmail: coordination.UserEmail,\n      PaymentMethodName: \"\",\n      AgendaType: coordination.ServicesType,\n      PatientName: coordination.FullNames\n    }\n    return this.http\n      .post(environment.API_URL + 'Coordinations/ConfirmCoordination', params)\n  }\n\n  getMedicalCenterSchedules(url: string, specialityCode: string): Observable<any> {\n    let params = {\n      SpecialityCode: specialityCode\n    }\n    return this.http.post(environment.API_URL + url, params)\n  }\n\n  getPaymentMethods(coordination: ConfirmCoordination) {\n    let params = {\n      IdReference: coordination.IdReference,\n      RDACode: coordination.RDACode,\n      LocalCode: coordination.LocalCode,\n      ClinicCode: coordination.ClinicCode,\n      SpecialityCode: coordination.SpecialityCode,\n      DocumentType: coordination.DocumentType,\n      Number: coordination.Number,\n      YearMonthDay: coordination.YearMonthDay,\n      Time: coordination.Time,\n      PatientCode: coordination.PatientCode,\n      ProductCode: coordination.ProductCode,\n      Price: coordination.Price != \"\" ? Number(coordination.Price) : \"\"\n    }\n    return this.http\n      .post(environment.API_URL + 'Coordinations/GetPaymentMethods', params)\n  }\n\n  payCoordination(coordination: ConfirmCoordination) {\n    let params = {\n      IdReference: coordination.IdReference,\n      Token: coordination.Token,\n      TrxToken: coordination.TrxToken,\n      RDACode: coordination.RDACode,\n      LocalCode: coordination.LocalCode,\n      ClinicCode: coordination.ClinicCode,\n      SpecialityCode: coordination.SpecialityCode,\n      DocumentType: coordination.DocumentType,\n      Number: coordination.Number,\n      PatientCode: coordination.PatientCode,\n      ProductCode: coordination.ProductCode,\n      YearMonthDay: coordination.YearMonthDay,\n      Time: coordination.Time,\n      Phone: coordination.Phone,\n      UserEmail: coordination.UserEmail,\n      Email: coordination.Email,\n      PaymentMethodCode: coordination.PaymentMethodCode,\n      PaymentMethodName: coordination.PaymentMethodName,\n      Price: coordination.Price != \"\" ? Number(coordination.Price) : \"\",\n      Installments: Number(coordination.Installments),\n      AgendaType: coordination.ServicesType,\n      PatientName: coordination.FullNames\n    }\n    return this.http\n      .post(environment.API_URL + 'Coordinations/Pay', params)\n  }\n\n  getBankCardInformation() {\n    let params = {\n      Code: \"6A69C947-80FC-4A13-A562-689DF981CDE7\"\n    }\n    return this.http\n      .post(environment.API_URL + 'DataLists/GetBankCardInformation', params)\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { environment } from 'src/environments/environment';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PendingCoordinationsService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getPendingCoordinationsList(registerId: any): Observable<any> {\n    let url = environment.API_URL + 'Coordinations/PendingCoordinations';\n    let params = {\n      \"IdReference\": registerId\n    }\n    return this.http\n      .post(url, params)\n  }\n\n}\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}