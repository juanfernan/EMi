<input type="hidden" name="PWToken" id="PWToken" />

<div class="container plans-card-container mt-4">
    <div class="row header-row">
        <div class="col-12 col-md-2">
            <span>N째 Factura</span>
        </div>
        <div class="col-12 col-md-2">
            <span>Facturaci처n</span>
        </div>
        <div class="col-12 col-md-2">
            <span>Vencimiento</span>
        </div>
        <div class="col-12 col-md-2">
            <span>Saldo</span>
        </div>
        <div class="col-12 col-md-2">
            <span>Estado</span>
        </div>
        <div class="col-12 col-md-2">
            <span>Acciones</span>
        </div>
    </div>

    <div *ngFor="let plan of facturesList let first = first; let last = last" class="row payments-row" [class.last-row]="last">
        <div class="col-12 col-md-2 container data data-row">
            <div class="row data-container">
                <span class="mobile-indicator col-6">N째 Factura:</span>
                <span class="col-6 col-md-12">{{plan.Series}} - {{plan.Number}}</span>
            </div>
        </div>
        <div class="col-12 col-md-2 container data">
            <div class="row data-container">
                <span class="mobile-indicator col-6">Facturaci처n:</span>
                <span class="col-6 col-md-12">{{plan.BroadcastDate | month}}</span>
            </div>
        </div>
        <div class="col-12 col-md-2 container data">
            <div class="row data-container">
                <span class="mobile-indicator col-6">Vencimiento:</span>
                <span class="col-6 col-md-12">{{plan.ExpirationDate}}</span>
            </div>
        </div>
        <div class="col-12 col-md-2 container data">
            <div class="row data-container">
                <span class="mobile-indicator col-6">Saldo:</span>
                <span class="col-6 col-md-12">$ {{plan.Amount}}</span>
            </div>
        </div>

        <div class="col-12 col-md-2 center-mobile-chip">
            <ion-chip [ngClass]="{'chip-paid' : plan.State== 'Paga', 'chip-unpaid': plan.State == 'Impaga'}">
                {{plan.State}}
            </ion-chip>
        </div>

        <ion-row class="data action-list">

            <ion-col size="6">
                <div>
                    <svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg" class="svg-stroke me-2" (click)="goToPayCoordination(plan)" *ngIf="plan.State == 'Impaga'">
                      <path d="M5.04525 9.01874C7.57616 9.01874 9.62858 9.4294 9.62858 9.9354C9.62858 10.4414 7.57616 10.8521 5.04525 10.8521C2.51433 10.8521 0.461914 10.4414 0.461914 9.9354C0.461914 9.4294 2.51433 9.01874 5.04525 9.01874Z" />
                      <path d="M9.62468 9.93542V12.6854C9.62468 13.1923 7.57318 13.6021 5.04134 13.6021C2.50951 13.6021 0.458008 13.1923 0.458008 12.6854V9.93542" />
                      <path d="M9.62468 12.6854V15.4354C9.62468 15.9423 7.57318 16.3521 5.04134 16.3521C2.50951 16.3521 0.458008 15.9423 0.458008 15.4354V12.6854" />
                      <path d="M9.62468 15.4354V18.1854C9.62468 18.6923 7.57318 19.1021 5.04134 19.1021C2.50951 19.1021 0.458008 18.6923 0.458008 18.1854V15.4354" />
                      <path d="M9.62468 18.1854V20.9354C9.62468 21.4423 7.57318 21.8521 5.04134 21.8521C2.50951 21.8521 0.458008 21.4423 0.458008 20.9354V18.1854" />
                      <path d="M0.458008 7.1854V1.6854C0.458008 1.1794 0.868675 0.768738 1.37467 0.768738H20.6247C21.1307 0.768738 21.5413 1.1794 21.5413 1.6854V12.6854C21.5413 13.1914 21.1307 13.6021 20.6247 13.6021H11.9163" />
                      <path d="M8.25 7.18536C8.25 5.66645 9.482 4.43536 11.0009 4.43628C12.5198 4.43628 13.7509 5.66828 13.75 7.1872C13.75 8.35228 13.0148 9.39086 11.9167 9.77953" />
                      <path d="M4.58268 4.66455C4.70918 4.66455 4.81185 4.76722 4.81185 4.89372C4.81185 5.02022 4.70918 5.12288 4.58268 5.12288C4.45618 5.12288 4.35352 5.02022 4.35352 4.89372C4.35352 4.76722 4.45618 4.66455 4.58268 4.66455Z" />
                      <path d="M17.4167 9.24792C17.5432 9.24792 17.6458 9.35059 17.6458 9.47709C17.6458 9.60359 17.5432 9.70626 17.4167 9.70626C17.2902 9.70626 17.1875 9.60359 17.1875 9.47709C17.1875 9.35059 17.2902 9.24792 17.4167 9.24792Z" />
                      <path d="M2.29102 7.18545V3.06045C2.29102 2.80745 2.49635 2.60211 2.74935 2.60211H19.2494C19.5024 2.60211 19.7077 2.80745 19.7077 3.06045V11.3104C19.7077 11.5634 19.5024 11.7688 19.2494 11.7688H11.916" />
                    </svg>
                </div>
                <div>
                    <svg width="22" height="23" viewBox="0 0 22 23" fill="none" xmlns="http://www.w3.org/2000/svg" class="svg-stroke-disabled me-2" (click)="goToPayCoordination(plan)" *ngIf="plan.State == 'Paga'">   
                    <path d="M5.04525 9.01874C7.57616 9.01874 9.62858 9.4294 9.62858 9.9354C9.62858 10.4414 7.57616 10.8521 5.04525 10.8521C2.51433 10.8521 0.461914 10.4414 0.461914 9.9354C0.461914 9.4294 2.51433 9.01874 5.04525 9.01874Z" />
                    <path d="M9.62468 9.93542V12.6854C9.62468 13.1923 7.57318 13.6021 5.04134 13.6021C2.50951 13.6021 0.458008 13.1923 0.458008 12.6854V9.93542" />
                    <path d="M9.62468 12.6854V15.4354C9.62468 15.9423 7.57318 16.3521 5.04134 16.3521C2.50951 16.3521 0.458008 15.9423 0.458008 15.4354V12.6854" />
                    <path d="M9.62468 15.4354V18.1854C9.62468 18.6923 7.57318 19.1021 5.04134 19.1021C2.50951 19.1021 0.458008 18.6923 0.458008 18.1854V15.4354" />
                    <path d="M9.62468 18.1854V20.9354C9.62468 21.4423 7.57318 21.8521 5.04134 21.8521C2.50951 21.8521 0.458008 21.4423 0.458008 20.9354V18.1854" />
                    <path d="M0.458008 7.1854V1.6854C0.458008 1.1794 0.868675 0.768738 1.37467 0.768738H20.6247C21.1307 0.768738 21.5413 1.1794 21.5413 1.6854V12.6854C21.5413 13.1914 21.1307 13.6021 20.6247 13.6021H11.9163" />
                    <path d="M8.25 7.18536C8.25 5.66645 9.482 4.43536 11.0009 4.43628C12.5198 4.43628 13.7509 5.66828 13.75 7.1872C13.75 8.35228 13.0148 9.39086 11.9167 9.77953" />
                    <path d="M4.58268 4.66455C4.70918 4.66455 4.81185 4.76722 4.81185 4.89372C4.81185 5.02022 4.70918 5.12288 4.58268 5.12288C4.45618 5.12288 4.35352 5.02022 4.35352 4.89372C4.35352 4.76722 4.45618 4.66455 4.58268 4.66455Z" />
                    <path d="M17.4167 9.24792C17.5432 9.24792 17.6458 9.35059 17.6458 9.47709C17.6458 9.60359 17.5432 9.70626 17.4167 9.70626C17.2902 9.70626 17.1875 9.60359 17.1875 9.47709C17.1875 9.35059 17.2902 9.24792 17.4167 9.24792Z" />
                    <path d="M2.29102 7.18545V3.06045C2.29102 2.80745 2.49635 2.60211 2.74935 2.60211H19.2494C19.5024 2.60211 19.7077 2.80745 19.7077 3.06045V11.3104C19.7077 11.5634 19.5024 11.7688 19.2494 11.7688H11.916" />
                  </svg>
                </div>

            </ion-col>

            <ion-col size="6">
                <div>
                    <svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg" class="svg-fill me-2" (click)="showDetail(plan)">
                      <path d="M12.4997 9.25949C12.1163 9.26548 11.7358 9.32638 11.3698 9.44034C11.5391 9.73812 11.6292 10.0743 11.6316 10.4169C11.6316 10.6829 11.5792 10.9463 11.4774 11.192C11.3756 11.4378 11.2265 11.661 11.0384 11.8491C10.8503 12.0372 10.627 12.1864 10.3813 12.2882C10.1355 12.39 9.87214 12.4424 9.60615 12.4424C9.2636 12.44 8.92737 12.3498 8.62959 12.1805C8.39464 12.9953 8.42203 13.8634 8.70786 14.6618C8.99369 15.4602 9.52347 16.1484 10.2222 16.629C10.9209 17.1095 11.7531 17.3581 12.6009 17.3394C13.4487 17.3207 14.2691 17.0357 14.946 16.5249C15.6228 16.014 16.1218 15.3031 16.3722 14.4929C16.6226 13.6827 16.6117 12.8143 16.3411 12.0106C16.0705 11.2069 15.5539 10.5088 14.8644 10.015C14.175 9.52125 13.3477 9.25693 12.4997 9.25949V9.25949ZM22.7905 12.7824C20.829 8.95531 16.9459 6.36597 12.4997 6.36597C8.05341 6.36597 4.16922 8.95712 2.20886 12.7827C2.12612 12.9464 2.08301 13.1272 2.08301 13.3106C2.08301 13.494 2.12612 13.6748 2.20886 13.8385C4.1703 17.6655 8.05341 20.2549 12.4997 20.2549C16.9459 20.2549 20.8301 17.6637 22.7905 13.8381C22.8732 13.6745 22.9163 13.4936 22.9163 13.3102C22.9163 13.1269 22.8732 12.946 22.7905 12.7824V12.7824ZM12.4997 18.5188C8.9316 18.5188 5.66047 16.5295 3.89397 13.3104C5.66047 10.0914 8.93124 8.10208 12.4997 8.10208C16.0681 8.10208 19.3389 10.0914 21.1054 13.3104C19.3392 16.5295 16.0681 18.5188 12.4997 18.5188Z" />
                    </svg>
                </div>
            </ion-col>

        </ion-row>

    </div>

</div>